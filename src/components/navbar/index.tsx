import { useAnimate } from "framer-motion"
import BlueButton, { BlackButton } from "../buttons"
import { CartIcon, HamburgerMenuIcon, ProfileIcon, SearchIcon } from "../icons"
import Logo from "../logo"
import { useAppSelector } from "../../hooks";
import { useDeferredValue } from "react";


function Navbar() {
    const [scope, animate] = useAnimate();
    const { cartData } = useAppSelector((state) => state.cart);
    console.log(cartData)
    const deferredValue = useDeferredValue(cartData);
    return (
        <>
            {/**For mobile screens */}
            <div className='relative flex items-center justify-between px-[1.5rem] bg-black py-[35px] desktop:hidden mobile:flex w-[100%] h-[100px]'>
                <div className='mt-[0px]' onClick={() => {
                    animate(scope.current, { height: '100vh', display: 'flex' });
                }}>
                    <HamburgerMenuIcon />
                </div>
                <div className='absolute left-[50%] top-[1px]' style={{ transform: 'translate(-50%,-15px)' }}>;
                    <Logo />
                </div>
                <div className='flex gap-[10px] mt-[0px] mr-[10px]'>
                    <ProfileIcon />
                    <div className='relative'>
                        <CartIcon />
                        <div className='absolute w-[20px] h-[20px] text-white flex items-center justify-center right-[-15px] top-[-15px] bg-blue rounded-full'>
                            {cartData.length}
                        </div>
                    </div>
                </div>
            </div>

            <div className='z-[1000] absolute w-[100vw] absolute top-[0] h-[0vh] hidden bg-black flex flex-col items-center justify-start gap-[25px]' ref={scope}>
                <div className='w-[100%] flex items-center justify-center py-[10px]'>
                    <svg className="icon-close absolute" style={{ left: 20, top: 30 }} width="20" height="20" viewBox="0 0 14 10" fill="none" xmlns="http://www.w3.org/2000/svg"
                        onClick={() => {
                            animate(scope.current, { height: '0vh', display: 'none' });
                        }}
                    >
                        <path d="M3.04998 0.187746L11.6295 8.54446L11.7945 9.6694L10.6396 9.5087L2.06003 1.15198L1.89504 0.0270401L3.04998 0.187746Z" fill="white"></path>
                        <path d="M2.05999 8.54468L10.6396 0.187959L11.7945 0.0272531L11.6295 1.1522L3.04994 9.50891L1.895 9.66962L2.05999 8.54468Z" fill="white"></path>
                    </svg>
                    <div className=''>
                        <Logo />
                    </div>
                </div>
                <div className='flex flex-col w-[100%] items-center gap-[15px]'>
                    <BlueButton width="90%">Personalize shirt</BlueButton>
                    <BlackButton width="90%">Find a gift</BlackButton>
                </div>
                <div className='flex flex-col w-[100%] items-center justify-center mt-[30px]'>
                    <div className='flex flex-col w-[90%] gap-[10px]'>
                        <a href='/products/new' className='w-[100%] flex gap-[10px]'>
                            <svg className="icon-new" width="25" height="25" viewBox="0 0 25 25" fill="" xmlns="http://www.w3.org/2000/svg">
                                <path d="M13.0523 17.5811C12.9729 17.5813 12.8943 17.5658 12.8209 17.5355C12.7476 17.5051 12.681 17.4605 12.625 17.4042L6.82824 11.6078L1.03151 17.4042C0.975588 17.4605 0.909047 17.5051 0.83575 17.5355C0.762453 17.5658 0.683863 17.5813 0.60453 17.5811C0.525081 17.5813 0.44637 17.5658 0.372947 17.5355C0.299524 17.5051 0.232849 17.4605 0.176786 17.4042C0.0635811 17.2908 0 17.1371 0 16.9769C0 16.8167 0.0635811 16.663 0.176786 16.5496L6.40202 10.3246C6.45809 10.2684 6.52471 10.2239 6.59806 10.1935C6.6714 10.1632 6.75002 10.1477 6.82939 10.1478C6.90877 10.1476 6.98739 10.1631 7.06074 10.1935C7.13409 10.2238 7.20071 10.2684 7.25675 10.3246L13.0535 16.1211L21.9682 7.20718H15.1273C14.9674 7.20668 14.8142 7.14294 14.7012 7.02989C14.5881 6.91684 14.5244 6.76366 14.5239 6.60378C14.5242 6.44361 14.588 6.2901 14.7013 6.17691C14.8147 6.06372 14.9683 6.0001 15.1284 6H23.4271C23.5872 6.0001 23.7408 6.06373 23.8541 6.17693C23.9674 6.29013 24.0311 6.44364 24.0313 6.60378V14.9024C24.0312 14.9819 24.0155 15.0605 23.9851 15.1339C23.9546 15.2073 23.91 15.2739 23.8538 15.3301C23.7976 15.3862 23.7309 15.4307 23.6575 15.4611C23.5841 15.4914 23.5054 15.507 23.426 15.507C23.2657 15.5069 23.112 15.4432 22.9987 15.3299C22.8854 15.2167 22.8216 15.063 22.8214 14.9028V8.06301L13.4797 17.4042C13.4237 17.4605 13.3571 17.5051 13.2837 17.5355C13.2104 17.5658 13.1317 17.5813 13.0523 17.5811Z" fill="#e6f1ff"></path>
                            </svg>
                            <div className="text-[16px] text-softWhite">New</div>
                        </a>
                        <div className='blackLine' />
                        <div className='flex flex-col w-[100%] relative'>
                            <a
                                className='w-[100%] flex gap-[10px] py-[10px]'
                                href='/products/official-competition-uniforms'
                            >
                                <svg className="icon-gameclothing" width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M2.75525 12.2083C2.80702 12.2992 2.89176 12.3667 2.99194 12.3968C3.09211 12.427 3.20004 12.4175 3.29337 12.3702L5.47412 11.2448V22.6047C5.47412 22.7135 5.51733 22.8178 5.59425 22.8947C5.67118 22.9716 5.77551 23.0149 5.8843 23.0149H17.8906C17.9446 23.0151 17.9982 23.0047 18.0482 22.9842C18.0981 22.9637 18.1436 22.9335 18.1819 22.8954C18.2202 22.8573 18.2506 22.812 18.2713 22.7621C18.292 22.7122 18.3027 22.6587 18.3027 22.6047V11.2448L20.4834 12.3702C20.577 12.4179 20.6853 12.4277 20.7859 12.3976C20.8865 12.3674 20.9716 12.2996 21.0235 12.2083L23.7229 7.44182C23.7726 7.35118 23.7861 7.24499 23.7605 7.14478C23.7349 7.04458 23.6722 6.95786 23.585 6.9022L16.3186 2.33508L16.0272 2.1216L15.9921 2.09487C15.9168 2.03114 15.8207 1.99742 15.7221 2.00016H8.05129C7.95269 1.99738 7.85653 2.03111 7.78127 2.09487L7.74614 2.12466L7.47612 2.31866L0.188392 6.90717C0.101092 6.9629 0.0382644 7.04976 0.0126599 7.15012C-0.0129446 7.25047 0.000592306 7.35681 0.0505205 7.44755L2.75525 12.2083ZM9.12524 3.61559C9.03625 3.51286 8.95223 3.40478 8.87432 3.29441L8.83116 3.22949C8.74905 3.10724 8.67518 2.97966 8.61003 2.84759C8.60496 2.83795 8.6005 2.828 8.59667 2.8178H15.1878L15.1744 2.84759C15.1091 2.97967 15.0351 3.10725 14.9529 3.22949L14.9071 3.29403C14.8314 3.40484 14.7494 3.51119 14.6615 3.61253C14.6486 3.62992 14.6341 3.64615 14.6183 3.66103C14.5208 3.77036 14.4162 3.87319 14.3052 3.96884L14.2288 4.03377C14.1144 4.13053 13.9945 4.22068 13.8698 4.30377C13.4265 4.58045 12.9301 4.7611 12.4126 4.83405C11.8952 4.907 11.3682 4.87063 10.8656 4.72729C10.6987 4.681 10.5354 4.62241 10.3772 4.552C10.2187 4.48023 10.0655 4.39727 9.91886 4.30377C9.79143 4.22213 9.6697 4.13192 9.55451 4.03377C9.53045 4.012 9.50333 3.99328 9.48195 3.97152C9.36907 3.875 9.26255 3.77129 9.16305 3.66103C9.14968 3.64767 9.13899 3.63163 9.12486 3.61521L9.12524 3.61559ZM10.1049 5.32916C10.2618 5.39524 10.4222 5.45287 10.5853 5.50178L10.769 5.54799C10.8836 5.57778 10.9955 5.60184 11.1127 5.62437L11.3827 5.66256C11.4828 5.66256 11.5798 5.67898 11.6772 5.68433C11.7746 5.68968 11.83 5.70075 11.9037 5.70075C11.9774 5.70075 12.0564 5.687 12.1305 5.68433C12.229 5.68573 12.3274 5.67845 12.4246 5.66256L12.6946 5.62437C12.8092 5.60298 12.9238 5.57854 13.0384 5.54799L13.2221 5.50178C13.3852 5.45287 13.5456 5.39524 13.7025 5.32916V22.1945H10.1071L10.1049 5.32916ZM22.8093 7.37957L20.5102 11.4632L18.0812 10.2079C18.0188 10.1752 17.9491 10.1593 17.8788 10.1616C17.8084 10.1639 17.7399 10.1844 17.6798 10.2211C17.6198 10.2578 17.5702 10.3094 17.5361 10.371C17.502 10.4325 17.4844 10.5019 17.485 10.5722V22.1945H14.4969V4.86669L14.5427 4.83155C14.682 4.72945 14.8154 4.61955 14.9422 4.50236C14.956 4.50236 14.9693 4.47524 14.9827 4.46187C15.0973 4.3538 15.2015 4.24037 15.3039 4.1216L15.3848 4.0246C15.4944 3.88971 15.5954 3.74814 15.6873 3.60069C15.6873 3.58465 15.706 3.56594 15.7167 3.54685C15.7988 3.41793 15.8736 3.28457 15.9409 3.14738L15.9761 3.08513L22.8093 7.37957ZM7.81068 3.08246C7.81068 3.1069 7.83512 3.12561 7.84582 3.14738C7.9112 3.28627 7.98426 3.42142 8.06466 3.55219C8.07976 3.56939 8.09596 3.58559 8.11316 3.60069C8.2036 3.74533 8.3031 3.88411 8.41105 4.0162L8.49469 4.11358C8.59368 4.23172 8.69912 4.3443 8.81054 4.4508C8.82696 4.46455 8.84033 4.48059 8.85637 4.49663C8.9818 4.61269 9.11433 4.72085 9.25318 4.82048L9.29901 4.85867V22.1865H6.29906V10.5722C6.29971 10.5019 6.28211 10.4325 6.24797 10.371C6.21383 10.3094 6.16431 10.2578 6.10425 10.2211C6.0442 10.1844 5.97565 10.1639 5.90531 10.1616C5.83496 10.1593 5.76522 10.1752 5.70289 10.2079L3.27351 11.4628L0.973612 7.37919L7.81068 3.08246Z" fill="#e6f1ff"></path>
                                </svg>
                                <div className="text-[16px] text-softWhite">Official Competition Uniforms</div>
                                <svg className="absolute right-[0px] top-[50%] icon-chevron" width="9" height="10" viewBox="0 0 9 10" fill="none" xmlns="http://www.w3.org/2000/svg" style={{ transform: 'translate(-10px,-100%)' }}>
                                    <path d="M4.01831 0.998272L2.00342 0.997368L2.0024 3.26978L3.97162 5.49825L2.0004 7.72495L1.99938 9.99737L4.01427 9.99827L8.0014 5.50006L4.01831 0.998272Z" fill="#0572ff"></path>
                                </svg>
                            </a>
                            <div className='blackLine' />
                        </div>
                        <div className='flex flex-col w-[100%] relative'>
                            <a
                                className='w-[100%] flex gap-[10px] py-[10px]'
                                href='/products/clothing'
                            >
                                <svg className="icon-clothing" width="17" height="24" viewBox="0 0 17 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M10.063 23.9989C9.97139 23.9987 9.88293 23.9652 9.81424 23.9045C9.74555 23.8438 9.70135 23.7602 9.68991 23.6693L8.23291 12.0157H8.01826L6.56164 23.6697C6.55003 23.7606 6.50571 23.8441 6.43696 23.9047C6.36822 23.9653 6.27976 23.9988 6.18812 23.9989H0.375738C0.325114 23.9989 0.274993 23.9888 0.228351 23.9691C0.181709 23.9494 0.13949 23.9206 0.104191 23.8843C0.0692712 23.8476 0.042081 23.8042 0.0242365 23.7568C0.00639203 23.7093 -0.00174221 23.6588 0.000310791 23.6082L0.968855 0.360512C0.976027 0.26413 1.01877 0.173857 1.08879 0.107231C1.15881 0.0406056 1.25109 0.00238662 1.34771 0H14.9057C15.0023 0.00319893 15.0943 0.0421772 15.1637 0.109364C15.2332 0.176551 15.2752 0.267151 15.2816 0.363567L16.2509 23.6086C16.2529 23.6592 16.2447 23.7098 16.2268 23.7572C16.2088 23.8046 16.1816 23.848 16.1466 23.8847C16.1113 23.9209 16.0692 23.9497 16.0226 23.9694C15.976 23.9891 15.926 23.9992 15.8754 23.9992L10.063 23.9989ZM8.12558 7.74795C8.21728 7.74806 8.30579 7.78158 8.37454 7.84225C8.44329 7.90292 8.48758 7.98656 8.4991 8.07753L10.3949 23.2469H15.4832L14.7675 6.06989L14.6724 6.06187C13.8772 5.99542 13.2433 5.5929 12.7876 4.86576C12.3186 4.11648 12.1766 3.24155 12.1334 2.78633L12.1242 2.68818H8.50178V5.21825C8.50167 5.31799 8.46201 5.41361 8.39148 5.48414C8.32095 5.55466 8.22532 5.59432 8.12558 5.59442C8.02588 5.59432 7.93029 5.55465 7.85983 5.48411C7.78936 5.41358 7.74977 5.31796 7.74977 5.21825V2.68818H4.1273L4.11814 2.78633C4.07498 3.24155 3.93252 4.11648 3.46353 4.86576C3.00828 5.59137 2.37431 5.99542 1.57916 6.06187L1.48368 6.06989L0.768349 23.2469H5.85624L7.75245 8.07753C7.76396 7.98663 7.80819 7.90303 7.87686 7.84238C7.94554 7.78172 8.03396 7.74815 8.12558 7.74795ZM12.8946 2.80886C13.1176 4.76876 14.0621 5.20985 14.6052 5.29845L14.7362 5.31984L14.6266 2.68818H12.8808L12.8946 2.80886ZM1.51347 5.31984L1.64446 5.29845C2.18755 5.20985 3.13203 4.76876 3.35507 2.80886L3.36881 2.68818H1.62307L1.51347 5.31984ZM1.71932 1.93622H14.5292V0.752339H1.72085L1.71932 1.93622Z" fill="#E6F1FF"></path>
                                </svg>
                                <div className="text-[16px] text-softWhite">Clothing</div>
                                <svg className="absolute right-[0px] top-[50%] icon-chevron" width="9" height="10" viewBox="0 0 9 10" fill="none" xmlns="http://www.w3.org/2000/svg" style={{ transform: 'translate(-10px,-100%)' }}>
                                    <path d="M4.01831 0.998272L2.00342 0.997368L2.0024 3.26978L3.97162 5.49825L2.0004 7.72495L1.99938 9.99737L4.01427 9.99827L8.0014 5.50006L4.01831 0.998272Z" fill="#0572ff"></path>
                                </svg>
                            </a>
                            <div className='blackLine' />
                        </div>
                        <div className='flex flex-col w-[100%]  relative'>
                            <a
                                className='w-[100%] flex gap-[10px] py-[10px]'
                                href='/products/fan-articles'
                            >
                                <svg className="icon-fanitems" width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21.8977 13.0621L19.458 10.9353L9.38574 2.15162C9.35292 2.11843 9.31549 2.09013 9.2746 2.0676L9.2704 2.06531C9.24385 2.04986 9.21583 2.03707 9.18676 2.02712L9.17721 2.02406C9.15017 2.01558 9.12244 2.00945 9.09434 2.00573H9.07792C9.06114 2.00265 9.04417 2.00074 9.02712 2.00001H1.50337C1.43753 1.9997 1.37228 2.01238 1.31135 2.0373C1.25042 2.06223 1.19499 2.09892 1.14825 2.14527C1.1015 2.19163 1.06434 2.24674 1.03891 2.30746C1.01347 2.36818 1.00025 2.43331 1 2.49915V22.0477C1.0036 22.1783 1.058 22.3023 1.15161 22.3933C1.24522 22.4844 1.37067 22.5353 1.50127 22.5353C1.63186 22.5353 1.75731 22.4844 1.85092 22.3933C1.94453 22.3023 1.99893 22.1783 2.00253 22.0477V19.3092H3.50766V22.0477C3.51127 22.1783 3.56566 22.3023 3.65927 22.3933C3.75289 22.4844 3.87833 22.5353 4.00893 22.5353C4.13953 22.5353 4.26497 22.4844 4.35859 22.3933C4.4522 22.3023 4.50659 22.1783 4.5102 22.0477V19.3092H6.01533V22.0477C6.01893 22.1783 6.07332 22.3023 6.16694 22.3933C6.26055 22.4844 6.386 22.5353 6.51659 22.5353C6.64719 22.5353 6.77264 22.4844 6.86625 22.3933C6.95986 22.3023 7.01426 22.1783 7.01786 22.0477V19.3092H8.52376V22.0477C8.52736 22.1783 8.58175 22.3023 8.67536 22.3933C8.76898 22.4844 8.89442 22.5353 9.02502 22.5353C9.15562 22.5353 9.28106 22.4844 9.37468 22.3933C9.46829 22.3023 9.52268 22.1783 9.52629 22.0477V13.5872L13.8515 17.3588L16.2927 19.4875C16.3423 19.5307 16.4 19.5638 16.4624 19.5847C16.5248 19.6057 16.5907 19.6141 16.6563 19.6096C16.722 19.6051 16.7861 19.5877 16.8451 19.5584C16.904 19.5291 16.9566 19.4884 16.9998 19.4388C17.0431 19.3892 17.0761 19.3315 17.097 19.2691C17.118 19.2067 17.1264 19.1408 17.1219 19.0752C17.1174 19.0095 17.1 18.9454 17.0707 18.8865C17.0414 18.8275 17.0008 18.775 16.9511 18.7317L14.8888 16.9318L15.8779 15.7987L17.9422 17.5986C18.0424 17.6859 18.1732 17.7299 18.3058 17.7207C18.4385 17.7116 18.562 17.6502 18.6493 17.5499C18.7366 17.4497 18.7806 17.3189 18.7714 17.1863C18.7623 17.0537 18.7008 16.9302 18.6006 16.8429L16.5383 15.0434L17.5278 13.9083L19.5902 15.7082C19.6398 15.7515 19.6976 15.7845 19.76 15.8054C19.8224 15.8263 19.8884 15.8348 19.9541 15.8302C20.0198 15.8257 20.0839 15.8082 20.1429 15.7789C20.2018 15.7495 20.2544 15.7088 20.2977 15.6592C20.3409 15.6095 20.3739 15.5518 20.3949 15.4893C20.4158 15.4269 20.4242 15.361 20.4197 15.2953C20.4151 15.2296 20.3976 15.1654 20.3683 15.1065C20.3389 15.0475 20.2983 14.9949 20.2486 14.9517L18.1862 13.1522L19.1743 12.018L21.2366 13.8171C21.3367 13.9045 21.4675 13.9485 21.6001 13.9396C21.7327 13.9306 21.8563 13.8693 21.9437 13.7691C22.0311 13.669 22.0752 13.5383 22.0662 13.4057C22.0572 13.2731 21.9959 13.1495 21.8958 13.0621H21.8977ZM8.52376 3.0002V15.7254H2.00329V3.0002H8.52376ZM2.00329 16.7279H8.52376V18.3067H2.00329V16.7279ZM9.52705 3.60436L16.4737 9.66355L12.1871 14.5767L9.5259 12.2563L9.52705 3.60436ZM17.1043 12.8681L17.1008 12.8711C17.1002 12.8725 17.0993 12.8738 17.0982 12.8749L15.4532 14.7611L14.1353 16.2719L12.9425 15.2362L17.2315 10.3223L18.4215 11.3599L17.1043 12.8681Z" fill="#e6f1ff"></path>
                                </svg>
                                <div className="text-[16px] text-softWhite">Fan items</div>
                                <svg className="absolute right-[0px] top-[50%] icon-chevron" width="9" height="10" viewBox="0 0 9 10" fill="none" xmlns="http://www.w3.org/2000/svg" style={{ transform: 'translate(-10px,-100%)' }}>
                                    <path d="M4.01831 0.998272L2.00342 0.997368L2.0024 3.26978L3.97162 5.49825L2.0004 7.72495L1.99938 9.99737L4.01427 9.99827L8.0014 5.50006L4.01831 0.998272Z" fill="#0572ff"></path>
                                </svg>
                            </a>
                            <div className='blackLine' />
                        </div>
                    </div>
                </div>
            </div >

            {/**For desktop screens */}
            < div className='flex items-center justify-between py-[35px] bg-black px-[5vw] mobile:hidden desktop:flex relative' >
                <div className='btn-wrapper flex gap-[20px]'>
                    <BlueButton>Personalize Shirt</BlueButton>
                    <BlackButton>Find a gift</BlackButton>
                </div>
                <div className='absolute left-[50%] top-[50%]' style={{ transform: 'translate(-50%,-50%)' }}>
                    <Logo />
                </div>
                <div className='flex gap-[20px]'>
                    <div className="text-white">Welcome!</div>
                    <ProfileIcon />
                    <SearchIcon />
                    <div className='relative'>
                        <CartIcon />
                        <div className='absolute w-[20px] h-[20px] text-white flex items-center justify-center right-[-15px] top-[-15px] bg-blue rounded-full'>
                            {deferredValue && deferredValue.length}
                        </div>
                    </div>
                </div>
            </div >
        </>
    )
}

export default Navbar